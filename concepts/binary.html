

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Binary Formats &mdash; pgpointcloud</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
        <link rel="copyright" title="Copyright" href="../copyright.html"/>
    <link rel="top" title="pgpointcloud" href="../index.html"/>
        <link rel="up" title="Concepts" href="index.html"/>
        <link rel="next" title="Download" href="../download.html"/>
        <link rel="prev" title="Compressions" href="compressions.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> pgPointcloud
          

          
          </a>

          
            
            
              <div class="version">
                1.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="schemas.html">Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="objects.html">Point Cloud Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="tables.html">Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressions.html">Compressions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Binary Formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#point-binary">Point Binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#patch-binary">Patch Binary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uncompressed">Uncompressed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dimensional">Dimensional</a></li>
<li class="toctree-l4"><a class="reference internal" href="#laz">LAZ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../functions/index.html">Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pgPointcloud</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Concepts</a> &raquo;</li>
        
      <li>Binary Formats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="binary-formats">
<span id="id1"></span><h1>Binary Formats<a class="headerlink" href="#binary-formats" title="Permalink to this headline">¶</a></h1>
<p>In order to preserve some compactness in dump files and network transmissions,
the binary formats need to retain their native compression. All binary formats
are hex-encoded before output.</p>
<p>The point and patch binary formats start with a common header, which provides:</p>
<ul class="simple">
<li>endianness flag, to allow portability between architectures</li>
<li>pcid number, to look up the schema information in the <code class="docutils literal"><span class="pre">pointcloud_formats</span></code> table</li>
</ul>
<p>The patch binary formats have additional standard header information:</p>
<ul class="simple">
<li>the compression number, which indicates how to interpret the data</li>
<li>the number of points in the patch</li>
</ul>
<div class="section" id="point-binary">
<h2>Point Binary<a class="headerlink" href="#point-binary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="patch-binary">
<h2>Patch Binary<a class="headerlink" href="#patch-binary" title="Permalink to this headline">¶</a></h2>
<div class="section" id="uncompressed">
<h3>Uncompressed<a class="headerlink" href="#uncompressed" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="dimensional">
<h3>Dimensional<a class="headerlink" href="#dimensional" title="Permalink to this headline">¶</a></h3>
<p>Each compressed dimension starts with a byte, that gives the compression type,
and then a uint32 that gives the size of the segment in bytes.</p>
<p>There are four possible compression types used in dimensional compression:</p>
<ul class="simple">
<li>no compression = 0,</li>
<li>run-length compression = 1,</li>
<li>significant bits removal = 2,</li>
<li>deflate = 3</li>
</ul>
<p><strong>No dimension compress</strong></p>
<p>For dimensional compression 0 (no compression) the values just appear in order.
The length of words in this dimension must be determined from the schema
document.</p>
<p><strong>Run-length compress dimension</strong></p>
<p>For run-length compression, the data stream consists of a set of pairs: a byte
value indicating the length of the run, and a data value indicating the value
that is repeated.</p>
<p>The length of words in this dimension must be determined from the schema document.</p>
<p><strong>Significant bits removal on dimension</strong></p>
<p>Significant bits removal starts with two words. The first word just gives the
number of bits that are “significant”, that is the number of bits left after
the common bits are removed from any given word. The second word is a bitmask
of the common bits, with the final, variable bits zeroed out.</p>
<p><strong>Deflate dimension</strong></p>
<p>Where simple compression schemes fail, general purpose compression is applied
to the dimension using zlib. The data area is a raw zlib buffer suitable for
passing directly to the inflate() function. The size of the input buffer is
given in the common dimension header. The size of the output buffer can be
derived from the patch metadata by multiplying the dimension word size by the
number of points in the patch.</p>
</div>
<div class="section" id="laz">
<h3>LAZ<a class="headerlink" href="#laz" title="Permalink to this headline">¶</a></h3>
<p>Use <a class="reference external" href="https://github.com/hobu/laz-perf">laz-perf</a> library to read the LAZ data buffer out into a LAZ buffer.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../download.html" class="btn btn-neutral float-right" title="Download" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="compressions.html" class="btn btn-neutral" title="Compressions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    <div class="footer">
        <div class="container">
            &copy;  2020
            <a href="https://github.com/pramsey">Paul Ramsey</a>,
            <a href="http://github.com/pblottiere">Paul Blottiere</a>,
            <a href="http://github.com/mbredif">Mathieu Brédif</a>,
            <a href="http://github.com/elemoine">Eric Lemoine</a>,
            and
            <a href="https://github.com/pgpointcloud/pointcloud/graphs/contributors">others</a>,
        </div>
    </div>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>